===================================================
0
===================================================
0
===================================================
0
===================================================
1
===================================================
1
===================================================
1
===================================================
1
===================================================
1
===================================================
1
===================================================
1
===================================================
1
===================================================
1
===================================================
empid    deptid    salary    rank    
1     10     5500.0     1     
2     10     4500.0     2     
4     20     4800.0     1     
3     20     1900.0     2     
7     40     44500.0     1     
6     40     14500.0     2     
5     40     6500.0     3     
9     50     7500.0     1     
8     50     6500.0     2     

===================================================
0
===================================================
empid    deptid    salary    rank    
1     10     5500.0     1     
2     10     4500.0     2     
4     20     4800.0     1     
3     20     1900.0     2     
7     40     44500.0     1     
6     40     14500.0     2     
5     40     6500.0     3     
9     50     7500.0     1     
8     50     6500.0     2     

===================================================
empid    deptid    salary    rank    json_merge_patch(json_object('x', v1.rank), json_object('y', v1.rank))    
1     10     5500.0     1     {"x":1,"y":1}     
2     10     4500.0     2     {"x":2,"y":2}     
4     20     4800.0     1     {"x":1,"y":1}     
3     20     1900.0     2     {"x":2,"y":2}     
7     40     44500.0     1     {"x":1,"y":1}     
6     40     14500.0     2     {"x":2,"y":2}     
5     40     6500.0     3     {"x":3,"y":3}     
9     50     7500.0     1     {"x":1,"y":1}     
8     50     6500.0     2     {"x":2,"y":2}     

===================================================
empid    deptid    salary    rank    json_merge_patch(json_object('x', v1.rank), json_object('x', v1.rank))    
1     10     5500.0     1     {"x":1}     
2     10     4500.0     2     {"x":2}     
4     20     4800.0     1     {"x":1}     
3     20     1900.0     2     {"x":2}     
7     40     44500.0     1     {"x":1}     
6     40     14500.0     2     {"x":2}     
5     40     6500.0     3     {"x":3}     
9     50     7500.0     1     {"x":1}     
8     50     6500.0     2     {"x":2}     

===================================================
empid    deptid    salary    rank    json_merge(json_object('x', v1.rank), json_object('x', v1.rank))    
1     10     5500.0     1     {"x":[1,1]}     
2     10     4500.0     2     {"x":[2,2]}     
4     20     4800.0     1     {"x":[1,1]}     
3     20     1900.0     2     {"x":[2,2]}     
7     40     44500.0     1     {"x":[1,1]}     
6     40     14500.0     2     {"x":[2,2]}     
5     40     6500.0     3     {"x":[3,3]}     
9     50     7500.0     1     {"x":[1,1]}     
8     50     6500.0     2     {"x":[2,2]}     

===================================================
0
===================================================
0
